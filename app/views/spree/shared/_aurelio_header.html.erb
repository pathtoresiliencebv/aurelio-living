<%# Aurelio Living Header Component %>
<header class="main-navigation sticky top-0 z-50 shadow-sm">
  <div class="container mx-auto px-4">
    <%# Top Bar %>
    <div class="border-b border-color py-3">
      <div class="flex items-center justify-between">
        <%# Left - Dark Mode & Language %>
        <div class="flex items-center gap-4">
          <%# Dark Mode Toggle (Future Implementation) %>
          <button type="button" 
                  class="p-2 hover:bg-accent rounded-full transition-colors"
                  aria-label="Toggle dark mode">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
            </svg>
          </button>

          <%# Language Selector %>
          <div class="flex items-center gap-2 text-sm">
            <span class="font-semibold">NL</span>
          </div>
        </div>

        <%# Center - Empty (can be used for announcements) %>
        <div class="hidden md:block text-sm text-neutral">
          <% if flash[:notice].present? %>
            <%= flash[:notice] %>
          <% end %>
        </div>

        <%# Right - Contact & Actions %>
        <div class="flex items-center gap-4">
          <%# Phone Number %>
          <a href="tel:+31201234567" class="hidden md:flex items-center gap-2 text-sm hover:text-danger transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </svg>
            <span class="font-medium">Need help? +31 20 123 4567</span>
          </a>

          <%# Wishlist %>
          <% if try_spree_current_user %>
            <%= link_to wishlist_path, class: 'p-2 hover:bg-accent rounded-full transition-colors relative' do %>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
              </svg>
            <% end %>
          <% end %>

          <%# Account %>
          <% if try_spree_current_user %>
            <%= link_to account_path, class: 'p-2 hover:bg-accent rounded-full transition-colors' do %>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
              </svg>
            <% end %>
          <% else %>
            <%= link_to login_path, class: 'p-2 hover:bg-accent rounded-full transition-colors' do %>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
              </svg>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>

    <%# Main Navigation %>
    <div class="py-4">
      <div class="flex items-center justify-between gap-8">
        <%# Logo %>
        <div class="flex-shrink-0">
          <%= link_to root_path, class: 'flex items-center' do %>
            <span class="text-2xl font-bold">
              Aurelio<br>
              <span class="text-sm font-normal tracking-wider">LIVING</span>
            </span>
          <% end %>
        </div>

        <%# Search Bar %>
        <div class="flex-1 max-w-2xl hidden lg:block">
          <%= form_with url: products_path, method: :get, class: 'flex gap-2' do |f| %>
            <%= f.text_field :keywords, 
                  placeholder: 'Search for office furniture, chairs, desks...',
                  class: 'flex-1 px-4 py-3 border border-color rounded-lg focus:outline-none focus:border-primary',
                  value: params[:keywords] %>
            <%= button_tag type: 'submit', class: 'btn-primary px-8' do %>
              SEARCH
            <% end %>
          <% end %>
        </div>

        <%# Cart %>
        <div class="flex-shrink-0">
          <%= link_to cart_path, 
                class: 'relative p-2 hover:bg-accent rounded-full transition-colors',
                id: 'link-to-cart' do %>
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
            </svg>
            <% if simple_current_order&.item_count.to_i > 0 %>
              <span class="absolute -top-1 -right-1 bg-danger text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">
                <%= simple_current_order.item_count %>
              </span>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>

    <%# Navigation Links %>
    <div class="border-t border-color py-4">
      <nav class="flex items-center justify-center gap-8">
        <%= link_to 'Home', root_path, class: 'font-medium hover:text-danger transition-colors' %>
        <%= link_to 'All Products', products_path, class: 'font-medium hover:text-danger transition-colors' %>
        <%= link_to 'Track & Trace', '#', class: 'font-medium hover:text-danger transition-colors' %>
        <%= link_to 'FAQ', '#', class: 'font-medium hover:text-danger transition-colors' %>
        <%= link_to 'About', '#', class: 'font-medium hover:text-danger transition-colors' %>
      </nav>
    </div>
  </div>
</header>

